import { Callout, Steps, Tabs } from "nextra/components"
import { Screenshot } from "@/components/Screenshot"

# Magic links with Resend

In this tutorial, we'll be setting up Auth.js in a Next.js application to be able to log in with **Resend**.

Magic links (or passwordless) authentication is a login method using links that are sent to the user's email. When the user clicks on them, they will be redirected to your Auth.js app and be logged in as long as the link hasn't expired.

<Callout type="info">
  This tutorial uses Resend as the Passwordless provider and Next.js as the framework. Note that for any OAuth
  provider or any framework, **the process will be the same/very similar**, mainly differing on how
  you register your application in the chosen provider's dashboard.
</Callout>

## Setting up Auth.js

### Installing Auth.js and Next.js

For this tutorial, we're gonna use the default [Auth.js & Next.js example app](https://github.com/nextauthjs/next-auth-example). If you already have an existing Next.js app, it should work too. If you haven't, clone the repository:

```bash
git clone https://github.com/nextauthjs/next-auth-example.git && cd next-auth-example
```

If you're using the example app, Auth.js is already installed, otherwise follow the [installation instructions](/installation).

### Creating the server config

Next, we're gonna create the main Auth.js configuration file (which is a Next.js API route). This route contains the necessary configuration for Auth.js, as well as the dynamic route handler:

```ts filename="./auth.ts"
import NextAuth from "next-auth";
import GitHub from "next-auth/providers/github";
 
export const { handlers, auth } = NextAuth({
  providers: [GitHub],
});
```
```ts filename="app/api/auth/[...nextauth]/route.ts"
export { GET, POST } from "./auth";
export const runtime = "edge"; // optional
```

Behind the scenes, this creates all the relevant Auth.js API routes so that your application can interact with the chosen OAuth provider using the [OAuth 2](https://oauth.net/2) protocol.

### Adding environment variables

If you haven't, create an `.env.local` file as explained in the [installation section](/installation) and add the following two variables:

```bash filename=".env.local"
AUTH_GITHUB_ID="123"
AUTH_GITHUB_SECRET="123"
```

We will be filling `AUTH_GITHUB_ID` and `AUTH_GITHUB_SECRET` with proper values from the GitHub Developer Portal once we have registered our application in GitHub.
